package nonverblaster {	import flash.display.*;	import flash.events.*;	import flash.media.*;	import flash.net.*;		public class TheVideo extends MovieClip{				public var connection:NetConnection;		public var stream:NetStream;		private var netStreamClient:Object;		private var videoURL:String;		private var main:MovieClip;		private var urlReq:URLRequest;		//		// Object to save the metadata of the video in		public var meta:Object;				public function TheVideo(main){			this.main = main;			visible = false;			//this.mouseEnabled = false;			netStreamClient = new Object();			netStreamClient.onMetaData = metadataHandler;						connection = new NetConnection();			connection.connect(null);			// Initialize the NetSteam object, add a listener for the netStatus 			// event, and set the client for the NetStream.			stream = new NetStream(connection);			stream.client = netStreamClient;					}		public function init(BUFFER_TIME, allowSmoothing, videoURL){			try {				stream.close();			} catch (e:Error){};						this.videoURL = videoURL;			stream.bufferTime = BUFFER_TIME;			// Initialize the video object and attach the NetStream			videoInstance.smoothing = allowSmoothing;			videoInstance.x = 0;			videoInstance.y = 0;			videoInstance.attachNetStream(stream);			this.buttonMode = true;			this.addEventListener(MouseEvent.CLICK, btHandler);		}		public function playVideo(){			stream.play(videoURL);			stream.seek(0);		}		public function restartVideo(){			stream.seek(0);			stream.resume();		}		public function togglePlay(){			stream.togglePause();		}		public function setDefault(){			stream.play(videoURL);			stream.seek(0);			stream.pause();		}		public function setPause(){			stream.pause();		}		//		// As soon as the netStream gets the metadata from the video file...		//		private function metadataHandler(metadataObj:Object):void {			// save the metadata			meta = metadataObj;			videoInstance.width = meta.width;			videoInstance.height = meta.height;			// set the width and height of the video as described in the metadata object			visible = true;			//			// position the elements			main.fitToScreen();		}		private function btHandler(event:Event){			switch(event.type){				case "click":				main.togglePlay();				break;			}		}	}	}